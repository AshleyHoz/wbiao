<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>万表网</title>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/order.css">
    <link rel="stylesheet" href="../css/self.css">
</head>
<body>

<!-- 最顶上的 banner -->
<div class="toptop">
    <div class="toptop-banner">
        <a href="../goods-details-1.html">
            <img src="../img/index/head_banner.jpg">
        </a>
        <i class="icon_top-close"></i>
    </div>
</div>

<!-- top -->
<div class="top">
    <div class="top-words container clearfix">
        <!-- top 左 -->
        <div class="top-left fl">
            <a href="../index.html">正品保障，免息分期！</a>
        </div>
        <!-- top 右 -->
        <div class="top-right fr clearfix">
            <!-- 右 登录 -->
            <div class="top-login fl clearfix">
                <a href="#">您好！&nbsp; wb5555424</a>
                <a href="../login.html">退出</a>
            </div>
            <!-- 右 其他 -->
            <div class="top-others fl clearfix">
                <span class="line fl">|</span>
                <a href="order.html">我的订单</a>
                <span class="line fl">|</span>
                <div class="top-sercice fl">
                    <a href="order.html">会员俱乐部</a>
                    <span class="line fl">|</span>
                    <div class="top-cover">
                        <div class="cover-words">
                            <div class="clearfix">
                                <a href="order.html">客户顾问</a>
                                <a href="order.html">售后维修</a>
                            </div>
                            <div class="clearfix">
                                <a href="order.html">帮助中心</a>
                                <a href="order.html">办理信用卡</a>
                            </div>
                            <div class="line">
                                <div class="phone">服务专线：400-883-2688</div>
                                <div class="phone">外呼号码：020-83931899</div>
                            </div>
                        </div>
                    </div>
                </div>
                <a href="order.html" style="color: #cc5252;">万表APP</a>
                <a href="order.html">办理信用卡</a>
                <a href="order.html">服务专线 </a>
                <span class="line fl">|</span>
                <a href="../index.html">ENGLISH</a>
            </div>
        </div>
    </div>
</div>

<div class="pt-top">
    <div class="container">
        <div class="pt-top-wrap">
            <!--top title-->
        </div>
    </div>
</div>
<div class="pt-head clearfix">
    <div class="container">
        <!--左头部-->
        <div class="head-left fl">
            <!--logo-->
            <div class="logo">
                <a href="../index.html" class="inline-block">
                    <img class="middle" src="../img/order/LOGO.png"></img>
                </a>
                <a href="../index.html">
                    <img class="middle" src="../img/order/ia_200000007.png" alt="">
                </a>
            </div>
        </div>
        <!--右头部-->
        <div class="head-right fr clearfix">
            <!--搜索框-->
            <div class="head-search fl">
                <label class="srh-label">
                    <span>搜索 品牌/系列/型号</span>
                    <input class="middle" type="text">
                    <button class="srh-btn icon icon-srh"></button>
                </label>
                <!--搜索热点-->
                <div class="srh-hot">
                    <p>热门推荐</p>
                    <div class="hot-word">
                        <a href="#">东方星</a>
                        <a href="#">时尚赫柏林</a>
                    </div>
                </div>
            </div>
            <!--购物车-->
            <div class="head-cart fr">
                <a href="../shopping.html" class="icon icon-cart">
                    <i class="cart-count">2</i>
                </a>
            </div>
        </div>
    </div>
</div>
<!--main-->
<div class="main">
    <div class="container">
        <div class="bread">
            <a href="../index.html" class="b">首页 </a>
            <a href="order.html" class="b">会员中心 </a>
            <a href="#">密码设置</a>
        </div>
        <!--主体-->
        <div class="member-order clearfix">
            <!--左侧栏目-->
            <div class="member-left fl">
                <!--成员头像-->
                <div class="member">
                    <div class="avatar ">
                        <a href="#" class="icon-bd icon-avatar"></a>
                    </div>
                    <p class="name">
                        Wb5555424
                    </p>
                    <span class="level">
                        银卡
                    </span>
                </div>
                <!--用户管理-->
                <div class="lines-wrap">
                    <!--订单管理-->
                    <div class="block">
                        <p class="title"> 订单中心</p>
                        <ul class="list">
                            <li><a href="order.html">我的订单</a></li>
                            <li><a href="order-sale.html">我的预售</a></li>
                            <li><a href="order-gift.html">我的礼品单</a></li>
                            <li><a href="order-service.html">售后服务</a></li>
                            <li><a href="order-refund.html">申请退款</a></li>
                            <li><a href="order-repair.html">售后维修</a></li>
                        </ul>
                    </div>
                    <!--账户设置-->
                    <div class="block">
                        <p class="title">账户设置</p>
                        <ul class="list">
                            <li>
                                <a href="order-self.html">个人资料</a>
                                <span>
                                    完善资料有惊喜哦
                                </span>
                            </li>
                            <li><a  href="order-address.html">收获地址</a></li>
                            <li><a class="on" href="order-pwd.html">密码设置</a></li>
                        </ul>
                    </div>
                    <!--资产中心-->
                    <div class="block">
                        <p class="title">资产中心</p>
                        <ul class="list">
                            <li><a href="order-integral.html">我的积分</a></li>
                            <li><a href="order-coupon.html">优惠券</a></li>
                            <li><a href="#">余额</a></li>
                            <li><a href="order-invoice.html">发票管理</a></li>
                        </ul>
                    </div>
                    <!--关注中心-->
                    <div class="block">
                        <p class="title">关注中心</p>
                        <ul class="list">
                            <li><a href="order-collect.html">我的收藏</a></li>
                            <li><a href="#">评价</a></li>
                            <li><a href="#">足迹</a></li>
                        </ul>
                    </div>
                </div>

            </div>
            <!--右侧栏目-->
            <div class="member-right fr">
                <!--导航栏-->
                <div class="cont-nav"style="border-bottom: 1px solid #eee;">
                    密码修改  (验证身份)
                </div>
                <div class="pwd-pack">
                    <p class="old-pwd">
                        <span>旧密码</span>
                        <input type="pwd" placeholder="请输入">
                        <i class="">
                            密码不足6-20位
                        </i>
                    </p>
                    <p class="new-pwd">
                        <span>新密码</span>
                        <input type="pwd" placeholder="请输入">
                        <i>
                            密码不足6-20位
                        </i>
                    </p>
                    <p class="repeat-pwd">
                        <span>重复新密码</span>
                        <input type="pwd" placeholder="请输入">
                        <i>
                            两次输入的密码不一样
                        </i>
                    </p>
                    <p class="code">
                        <span>图形验证码</span>
                        <input type="pwd" placeholder="请输入">
                        <em class="random"></em>
                    </p>
                    <p class="confirm-btn">
                        <a>
                            确认
                        </a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- footer -->
<div class="footer">
    <div class="footer-top">
        <div class="container">
            <ul class="clearfix">
                <li class="fl">
                    <a href="../index.html" class="clearfix">
                        <i class="icon_footer-top-1 fl"></i>
                        <div class="top-wodrs fl">正品保障</div>
                    </a>
                </li>
                <li class="fl">
                    <a href="../index.html" class="clearfix">
                        <i class="icon_footer-top-2 fl"></i>
                        <div class="top-wodrs fl">免息分期</div>
                    </a>
                </li>
                <li class="fl">
                    <a href="../index.html" class="clearfix">
                        <i class="icon_footer-top-3 fl"></i>
                        <div class="top-wodrs fl">全球联保</div>
                    </a>
                </li>
                <li class="fl">
                    <a href="../index.html" class="clearfix">
                        <i class="icon_footer-top-4 fl"></i>
                        <div class="top-wodrs fl">假一赔三</div>
                    </a>
                </li>
                <li class="fl">
                    <a href="../index.html" class="clearfix">
                        <i class="icon_footer-top-5 fl"></i>
                        <div class="top-wodrs fl">终身售后</div>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <div class="footer-mid">
        <div class="container">
            <div class="mid-top clearfix">
                <div class="phone-num fl">
                    <div class="phone-words">客服电话</div>
                    <div class="phone-num1">400-883-2688</div>
                    <div class="phone-num2">外呼电话 020-83931899</div>
                    <a class="phone-btn">售后维修</a>
                </div>
                <div class="content fl">
                    <ul class="clearfix">
                        <li class="fl">
                            <dl>
                                <dt>新手指南</dt>
                                <dd>
                                    <a href="../register.html">注册新会员</a>
                                    <a href="../shopping.html">购物流程</a>
                                    <a href="../index.html">手表小知识</a>
                                    <a href="order.html">退换货流程</a>
                                </dd>
                            </dl>
                        </li>
                        <li class="fl">
                            <dl>
                                <dt>支 付</dt>
                                <dd>
                                    <a href="order.html">支付方式</a>
                                    <a href="order.html">分期付款</a>
                                    <a href="order.html">发票说明</a>
                                    <a href="order.html">支付问题</a>
                                </dd>
                            </dl>
                        </li>
                        <li class="fl">
                            <dl>
                                <dt>配 送</dt>
                                <dd>
                                    <a href="order.html">包裹签收</a>
                                    <a href="order.html">配送方式</a>
                                    <a href="order.html">配送说明</a>
                                    <a href="order.html">自提流程</a>
                                </dd>
                            </dl>
                        </li>
                        <li class="fl">
                            <dl>
                                <dt>万表保障</dt>
                                <dd>
                                    <a href="order.html">正品保障</a>
                                    <a href="order.html">售后服务</a>
                                    <a href="order.html">价格保护</a>
                                    <a href="order.html">七天退换说明</a>
                                </dd>
                            </dl>
                        </li>
                        <li class="fl">
                            <dl>
                                <dt class="color">开放合作</dt>
                                <dd>
                                    <a href="order.html">关于万表</a>
                                    <a class="color" href="#">商务合作</a>
                                    <a href="order.html">万表声明</a>
                                </dd>
                            </dl>
                        </li>
                    </ul>
                </div>
                <div class="QR-code fl">
                    <a href="order.html">
                        <img src="../img/index/footer-top-code.jpg">
                    </a>
                </div>
            </div>
            <div class="mid-bottom">
                <div class="friend-link">
                    <ul class="clearfix">
                        <li class="fl">
                            <a href="../index.html">万表app</a>
                        </li>
                        <li class="fl">
                            <a href="order.html">万表名匠</a>
                        </li>
                        <li class="fl">
                            <a href="../index.html">奢品共享</a>
                        </li>
                        <li class="fl">
                            <a href="../goods-list.html">新款手表</a>
                        </li>
                        <li class="fl">
                            <a href="../goods-list.html">二手商城</a>
                        </li>
                        <li class="fl">
                            <a href="../goods-list.html">热销</a>
                        </li>
                        <li class="fl">
                            <a href="../index.html">天猫万表网旗舰店</a>
                        </li>
                        <li class="fl">
                            <a href="index.html">京东万表网旗舰店</a>
                        </li>
                        <li class="fl">
                            <a href="../index.html">手表资讯</a>
                        </li>
                        <li class="fl">
                            <a href="../goods-list-rolex.html">天梭手表</a>
                        </li>
                        <li class="fl more">
                            <a href="../goods-list.html">></a>
                        </li>
                    </ul>
                </div>
                <div class="corp">
                    <ul>
                        <li>万表网名表商城 版权所有 2009-2019 <a href="#">ICP备案证书号:粤ICP备09108738号</a> 网监备案:4401060103141</li>
                        <li>广州市万表科技股份有限公司 地址:广州市番禺区番禺大道北60-1号</li>
                        <li>Copyright 2009-2019 WWW.WBIAO.CN.LTD ALL RIGHT RESERVED.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-bottom">
        <div class="container">
            <div class="bottom-img">
                <img src="../img/index/footer-bottom-img1.png" >
                <img src="../img/index/footer-bottom-img2.png" >
                <img src="../img/index/footer-bottom-img3.png" >
            </div>
            <div class="friend-link">
                <ul class="clearfix">
                    <li class="fl">
                        <a href="order.html">联系QQ3268217127</a>
                    </li>
                    <li class="fl">
                        <a href="order.html">折800网</a>
                    </li>
                    <li class="fl">
                        <a href="order.html">音乐巴士</a>
                    </li>
                    <li class="fl">
                        <a href="order.html">聚美优品优惠券</a>
                    </li>
                    <li class="fl">
                        <a href="order.html">手表问答</a>
                    </li>
                    <li class="fl">
                        <a href="order.html">搜了网</a>
                    </li>
                    <li class="fl">
                        <a href="order.html">海鸥</a>
                    </li>
                    <li class="fl">
                        <a href="order.html">健客网上药店</a>
                    </li>
                    <li class="fl">
                        <a href="order.html">名表回收</a>
                    </li>
                    <li class="fl">
                        <a href="order.html">律师</a>
                    </li>
                    <li class="fl more">
                        <a href="order.html">></a>
                    </li>
                </ul>
            </div>
        </div>

    </div>
</div>
<script src="../js/jquery-3.4.1.min.js"></script>
<script src="../js/PCASClass.js"></script>
<script src="../lib/layer/layer.js"></script>
<script>
    // 绿 banner 关闭
    $(".toptop .icon_top-close").click(function() {
        $(this).parents(".toptop").slideUp();
    });

    //    input点击
    $(".head-search input").click(function () {
        $(this).parent('label').siblings('.srh-hot').show();
    });
    //    input里面的内容改变时
    $('.head-search input').on('input propertychange', function () {
        $(this).siblings('span').hide();
        $(this).parent('label').siblings('.srh-hot').hide();
        if ($(this).val() == '') {
            $(this).siblings('span').show();
            $(this).parent('label').siblings('.srh-hot').show();
        }
    });
    //    input 失去焦点的时候
    $(".head-search input").blur(function () {
        $(this).parent('label').siblings('.srh-hot').hide();
    });

    //    收货地址显示
    $('.member-right .cont-box .add').click(function () {
        $('.information').stop(true).show(100, function () {
            $(this).stop(true).animate({
                width: 780,
                height: 512,
                marginLeft: -390,
                marginTop: -256,
            }, 100);
        });
        $('.shadow').stop(true).fadeIn(100);
    });
    // 编辑按钮 显示
    $('.member-right .cont-box li .edit').click(function () {
        $('.member-right .cont-box .add').click();
        //        获取地址栏中的信息
        var $p = $(this).parents('p').siblings('p');
        var name = $($p).eq(0).find('span').text();
        var tel = $($p).eq(1).find('span').text();
        var location = $($p).eq(2).find('span').text();
        var address = $($p).eq(3).find('span').text();
//        寻找到data-block
        var $block = $('.shadow .data-block');
//        将数据插入到资料框中
        $($block).find('.data-info input').eq(0).val(name);
        $($block).find('.data-info input').eq(1).val(tel);
//        省市
        var arr = [];
        for (var j = 0; j < 3; j++) {
            var item = location.split(' ');
            arr.push(item);
        }
        console.log(arr[1][1]);
        for (i = 0 ; i < 3 ; i ++ ){
            $($block).find('.location .province').val(arr[0][0]);
            if (arr[1] != '') {
                $($block).find('.location .city').show();
                $($block).find('.location .city').val(arr[1][1]);
            }
            if (arr[2] != '') {
                $($block).find('.location .area').show();
                $($block).find('.location .area').val(arr[2][2]);
            }
        }

//        详细地址
        $($block).find('.address-msg input').val(address);
        var flag = $($p).eq(0).find('i').is(':visible');
        if (flag) {
            $($block).find('.sex .sex-btn').find('.icon-circle').css({visibility: 'visible'});
            $($block).find('.sex .sex-btn').find('.default').css({display: 'none'})
        }

    });
    //    删除
    $('.member-right .cont-box li .delete').click(function () {
        var $that = $(this);
        layer.confirm('确定删除?', {
            btn: ['取消','确定'] //按钮
        }, function(){
            layer.msg({time:1000});
        }, function(){
            $($that).parents('li').remove();
        });
        $('.layui-layer-dialog .layui-layer-title').text('');
    });
    //    关闭按钮
    $('.shadow .title .icon-close ').click(function () {
        $('.shadow .information .btn1').click();
    });
    //    修改资料输入框
    $('.shadow .data-info input').on('input propertychange', function () {
        $(this).siblings('.icon-delete').show();
        if ($(this).val() == '') {
            $(this).siblings('.icon-delete').hide();
        }
    });
    //    修改资料输入框的 清除
    $('.shadow .data-info .icon-delete').click(function () {
        $(this).siblings('input').val('');
        $(this).hide();
    });
    //     默认
    $('.shadow .data-block .sex .sex-btn').click(function () {
        $(this).find('.icon-circle').css({visibility: 'visible'});
        $(this).find('.default').hide();
        var sex = $(this).find('em').text();
    });
    //    省市选择下拉显示
    $('.shadow .data-block .location .province').change(function () {
        $(this).siblings('.city').show();
        $(this).siblings('.area').show();
        var txt = $(this).val();
        if (txt == '') {
            $(this).siblings('.city').hide();
            $(this).siblings('.area').hide();
        }
    });

    //  取消重置按钮
    $('.shadow .information .btn1').click(function () {
        $('.information').stop(true).animate({
            width: 860,
            height: 620,
            marginLeft: -430,
            marginTop: -310,
        }, function () {
            $('.shadow .information').stop(true).hide();
        }, function () {
            $('.information').stop(true).animate({
                width: 480,
                height: 280,
                marginLeft: -240,
                marginTop: -140,
            });
        });
        $('.shadow').stop(true).fadeOut(200);
//        重置首行的input框
        $(this).parents('.layui-layer-btn').siblings('.data-block').find('.data-info input').val('');

//      重置地区框
        $(this).parents('.layui-layer-btn').siblings('.data-block').find('.location .province').val('');
        $(this).parents('.layui-layer-btn').siblings('.data-block').find('.location .city,.area').hide();
//      重置详细信息
        $(this).parents('.layui-layer-btn').siblings('.data-block').find('.address-msg input').val('');
//        重置默认选项
        $(this).parents('.layui-layer-btn').siblings('.data-block').find('.sex .sex-btn .icon-circle').css({visibility: 'hidden'});
        $(this).parents('.layui-layer-btn').siblings('.data-block').find('.sex .sex-btn .default').show();
    });

    //    保存按钮
    $('.shadow .information .btn0').click(function () {
//     克隆一个li
            console.log($('.member-right .cont-box li').eq(0));
            var $li = $('.member-right .cont-box li').eq(0).clone(true);
            var $p = $($li).find('p');
//        寻找到data-block
            var $block = $(this).parents('.layui-layer-btn').siblings('.data-block');
//        获取到首行input中的值
            var name = $($block).find('.data-info input').eq(0).val();
            var tal = $($block).find('.data-info input').eq(1).val();

//         将值赋值到信息表中
            $($p).eq(0).find('span').text(name);
            $($p).eq(1).find('span').text(tal);

//      获取默认框是否被选中
            var flag = $($block).find('.sex .sex-btn .default').is(':visible');
            if (flag) {
                $($p).eq(0).find('i').addClass('h')
            } else {
                $($p).eq(0).find('i').removeClass('h');
            }
//        获取所在地的值并放入信息表
            var province = $($block).find('.location .province').val();
            var city = $($block).find('.location .city').val();
            var area = $($block).find('.location .area').val();
            $($p).eq(2).find('span').text(province + ' ' + city + ' ' + area);

//        获取详细地址信息
            var address = $($block).find('.address-msg input').val();
            $($p).eq(3).find('span').text(address);

//        如果name 没有填写的提示信息
            if (name == '') {
                $($block).find('.data-info .name em').show();
                $($block).find('.data-info .name .dp').css({
                    color: '#cc5252',
                });
                $($block).find('.data-info .name input').css({
                    borderBottom: '1px solid #cc5252',
                });
            } else {
                $($block).find('.data-info .name em').hide();
                $($block).find('.data-info .name .dp').css({
                    color: '#333',
                });
                $($block).find('.data-info .name input').css({
                    borderBottom: '1px solid #ddd',
                });
                $($block).find('.data-info .name em').hide();
                $($block).find('.data-info .name .dp').css({
                    color: '#333',
                });
                $($block).find('.data-info .name input').css({
                    borderBottom: '1px solid #ddd',
                });

                //        电话号码的提示信息
                if (tal == '') {
                    $($block).find('.data-info .surname .error').show();
                    $($block).find('.data-info .surname .dp').css({
                        color: '#cc5252',
                    });
                    $($block).find('.data-info .surname input').css({
                        borderBottom: '1px solid #cc5252',
                    });
                } else {
                    var tal_reg = /0?(13|14|15|17|18|19)[0-9]{9}/;
                    var flag = tal_reg.test(tal);
                    if (!flag) {
                        $($block).find('.data-info .surname .tal-error').show();
                        $($block).find('.data-info .surname .dp').css({
                            color: '#cc5252',
                        });
                        $($block).find('.data-info .surname input').css({
                            borderBottom: '1px solid #cc5252',
                        });
                    } else {
                        $($block).find('.data-info .surname em').hide();
                        $($block).find('.data-info .surname .dp').css({
                            color: '#333',
                        });
                        $($block).find('.data-info .surname input').css({
                            borderBottom: '1px solid #ddd',
                        });

//                如果地址没有填写的提示信息
                        if (province == '') {
                            $($block).find('.location .dp').css({
                                color: '#cc5252',
                            });
                            $($block).find('.location .province ').css({
                                border: "1px solid #cc5252",
                            });
                        } else {

                            $($block).find('.location .dp').css({
                                color: '#333',
                            });
                            $($block).find('.location .province ').css({
                                border: "1px solid #ddd",
                            });
                            if (address == '') {
                                $($block).find('.address-msg em').show();
                                $($block).find('.address-msg .dp').css({
                                    color: '#cc5252',
                                });
                                $($block).find('.address-msg input').css({
                                    borderBottom: '1px solid #cc5252',
                                });
                            } else {
                                $($block).find('.address-msg  em').hide();
                                $($block).find('.address-msg  .dp').css({
                                    color: '#333',
                                });
                                $($block).find('.address-msg  input').css({
                                    borderBottom: '1px solid #ddd',
                                });
                                $('.member-right .cont-box').prepend($li);
                                $('.shadow .information .btn1').click();
                            }

                        }
                    }
                }
            }

        }
    );

</script>
</body>
</html>
